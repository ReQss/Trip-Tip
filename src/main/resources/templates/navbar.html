<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>TripTip</title>
  <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="stylesheet.css">
</head>

<body>

<th:block th:with="word=${word}" th:fragment="navbar(user)">
    <div class="header" >
        <div class="header-buttons">
            <a href="/" style="text-decoration: none;color: black">
                <h4 style="text-align: left;margin-left: 20px;">Trip-Tip</h4>
            </a>
        </div>
        <div class="search-bar">
            <form action="/search">
                <input name="argument" type="text" id="search_bar" placeholder="Search bar" th:value="${word}" >
                <input type="submit" value="&check;" style="width:25px" class="nav-button" >
            </form>
        </div>
        <div class="header-buttons">
            <img onclick="dark_mode()" class="nav-button"src="https://cdn-icons-png.flaticon.com/512/6714/6714978.png" width="35px"/>
            <a href="filters"><img class="nav-button" src ="https://cdn.icon-icons.com/icons2/1993/PNG/512/filter_filters_funnel_list_navigation_sort_sorting_icon_123212.png"/></a>
            <a th:if="${user != null}" href="/profile" ><img class="nav-button"  src="https://cdn-icons-png.flaticon.com/512/64/64572.png"/></a>
        </div>
    </div>
</th:block>

<th:block th:fragment="sidebar(user)">
    <aside class="col-sm-2 flex-grow-sm-1 flex-shrink-1 flex-grow-0 sticky-top pb-sm-0 pb-3">
        <div class="bg-light border rounded-3 p-1 h-100 sticky-top">
            <ul class="nav nav-pills flex-sm-column flex-row mb-auto justify-content-between text-truncate">
                <li class="nav-item">
                    <a href="/" class="nav-link px-2 text-truncate"><i class="bi bi-house fs-5"></i>
                        <span class="d-none d-sm-inline">Browse</span>
                    </a>
                </li>

                <li th:if="${user != null}">
                    <a href="/preferences" class="nav-link px-2 text-truncate"><i class="bi bi-list-check"></i>
                        <span class="d-none d-sm-inline">Preferences</span>
                    </a>
                </li>
                <li th:if="${user != null}">
                    <a href="/?favourites=true" class="nav-link px-2 text-truncate"><i class="bi bi-heart-fill fs-5"></i>
                        <span class="d-none d-sm-inline">Favourites</span> </a>
                </li>
<!--                <li th:if="${user != null}">
                    <a href="" class="nav-link px-2 text-truncate"><i class="bi bi-clock-history fs-5"></i>
                        <span class="d-none d-sm-inline">History</span> </a>
                </li>-->
                <li>
                    <a href="/settings" class="nav-link px-2 text-truncate"><i class="bi bi-gear-fill fs-5"></i>
                        <span class="d-none d-sm-inline">Settings</span> </a>
                </li>
                <li th:if="${user != null}">
                    <a href="/user/logout" class="nav-link px-2 text-truncate"><i class="bi bi-box-arrow-right fs-5"></i>
                        <span class="d-none d-sm-inline">Sign out</span> </a>
                </li>
                <li th:if="${user == null}">
                    <a href="/user/login" class="nav-link px-2 text-truncate"><i class="bi bi-box-arrow-in-left fs-5"></i>
                        <span class="d-none d-sm-inline">Log in</span> </a>
                </li>
                <li th:if="${user == null}">
                    <a href="/user/register" class="nav-link px-2 text-truncate"><i class="bi bi-pencil-square fs-5"></i>
                        <span class="d-none d-sm-inline">Sign up</span> </a>
                </li>
            </ul>
        </div>
    </aside>
</th:block>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>
